{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/types.js"],"sourcesContent":["export var GrantType;\n(function (GrantType) {\n    GrantType[\"AUTHORIZATION_CODE\"] = \"AUTHORIZATION_CODE\";\n    GrantType[\"CLIENT_CREDENTIALS\"] = \"CLIENT_CREDENTIALS\";\n    GrantType[\"PKCE\"] = \"PKCE\";\n})(GrantType || (GrantType = {}));\n"],"names":[],"mappings":";;;;AAAO,IAAI;AACX,CAAC,SAAU,SAAS;IAChB,SAAS,CAAC,qBAAqB,GAAG;IAClC,SAAS,CAAC,qBAAqB,GAAG;IAClC,SAAS,CAAC,OAAO,GAAG;AACxB,CAAC,EAAE,aAAa,CAAC,YAAY,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/types.js"],"sourcesContent":["export var FlagDataType;\n(function (FlagDataType) {\n    FlagDataType[\"s\"] = \"string\";\n    FlagDataType[\"b\"] = \"boolean\";\n    FlagDataType[\"i\"] = \"number\";\n})(FlagDataType || (FlagDataType = {}));\n"],"names":[],"mappings":";;;;AAAO,IAAI;AACX,CAAC,SAAU,YAAY;IACnB,YAAY,CAAC,IAAI,GAAG;IACpB,YAAY,CAAC,IAAI,GAAG;IACpB,YAAY,CAAC,IAAI,GAAG;AACxB,CAAC,EAAE,gBAAgB,CAAC,eAAe,CAAC,CAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/environment.js"],"sourcesContent":["var JSEnvironment;\n(function (JSEnvironment) {\n    JSEnvironment[\"BROWSER\"] = \"BROWSER\";\n    JSEnvironment[\"NODEJS\"] = \"NODEJS\";\n})(JSEnvironment || (JSEnvironment = {}));\nvar currentEnvironment = typeof window === 'undefined' ? JSEnvironment.NODEJS : JSEnvironment.BROWSER;\n/**\n * Method returns if current environment is node.js\n * @returns {boolean}\n */\nexport var isNodeEnvironment = function () {\n    return currentEnvironment === JSEnvironment.NODEJS;\n};\n/**\n * Method returns if current environment is browser.\n * @returns {boolean}\n */\nexport var isBrowserEnvironment = function () {\n    return currentEnvironment === JSEnvironment.BROWSER;\n};\n"],"names":[],"mappings":";;;;;;AAAA,IAAI;AACJ,CAAC,SAAU,aAAa;IACpB,aAAa,CAAC,UAAU,GAAG;IAC3B,aAAa,CAAC,SAAS,GAAG;AAC9B,CAAC,EAAE,iBAAiB,CAAC,gBAAgB,CAAC,CAAC;AACvC,IAAI,qBAAqB,uCAAgC,cAAc,MAAM,GAAG;AAKzE,IAAI,oBAAoB;IAC3B,OAAO,uBAAuB,cAAc,MAAM;AACtD;AAKO,IAAI,uBAAuB;IAC9B,OAAO,uBAAuB,cAAc,OAAO;AACvD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/session-managers/BrowserSessionManager.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { isBrowserEnvironment } from '../environment.js';\n/**\n * Provides a session manager implementation for the browser.\n * @class BrowserSessionManager\n */\nvar BrowserSessionManager = /** @class */ (function () {\n    function BrowserSessionManager() {\n        this.memCache = {};\n        if (!isBrowserEnvironment()) {\n            throw new Error('BrowserSessionStore must be instantiated on the browser');\n        }\n    }\n    /**\n     * Prefixes provided item key with class static prefix.\n     * @param {string} itemKey\n     * @returns {string}\n     */\n    BrowserSessionManager.prototype.generateItemKey = function (itemKey) {\n        return \"\".concat(BrowserSessionManager.ITEM_NAME_PREFIX).concat(itemKey);\n    };\n    /**\n     * Clears all items from session store.\n     * @returns {void}\n     */\n    BrowserSessionManager.prototype.destroySession = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                sessionStorage.clear();\n                this.memCache = {};\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Sets the provided key-value store to the memory cache.\n     * @param {string} itemKey\n     * @param {unknown} itemValue\n     * @returns {void}\n     */\n    BrowserSessionManager.prototype.setSessionItem = function (itemKey, itemValue) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            return __generator(this, function (_a) {\n                key = this.generateItemKey(itemKey);\n                this.memCache[key] = itemValue;\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Sets the provided key-value store to the browser session storage.\n     * @param {string} itemKey\n     * @param {unknown} itemValue\n     */\n    BrowserSessionManager.prototype.setSessionItemBrowser = function (itemKey, itemValue) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key, isString, value;\n            return __generator(this, function (_a) {\n                key = this.generateItemKey(itemKey);\n                isString = typeof itemValue === 'string';\n                value = !isString ? JSON.stringify(itemValue) : itemValue;\n                sessionStorage.setItem(key, value);\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Gets the item for the provided key from the memory cache.\n     * @param {string} itemKey\n     * @returns {unknown | null}\n     */\n    BrowserSessionManager.prototype.getSessionItem = function (itemKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            var _a;\n            return __generator(this, function (_b) {\n                key = this.generateItemKey(itemKey);\n                return [2 /*return*/, (_a = this.memCache[key]) !== null && _a !== void 0 ? _a : null];\n            });\n        });\n    };\n    /**\n     * Gets the item for the provided key from the browser session storage.\n     * @param {string} itemKey\n     * @returns {unknown | null}\n     */\n    BrowserSessionManager.prototype.getSessionItemBrowser = function (itemKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            return __generator(this, function (_a) {\n                key = this.generateItemKey(itemKey);\n                return [2 /*return*/, sessionStorage.getItem(key)];\n            });\n        });\n    };\n    /**\n     * Removes the item for the provided key from the memory cache.\n     * @param {string} itemKey\n     * @returns {void}\n     */\n    BrowserSessionManager.prototype.removeSessionItem = function (itemKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            return __generator(this, function (_a) {\n                key = this.generateItemKey(itemKey);\n                delete this.memCache[key];\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Removes the item for the provided key from the browser session storage.\n     * @param {string} itemKey\n     * @returns {void}\n     */\n    BrowserSessionManager.prototype.removeSessionItemBrowser = function (itemKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var key;\n            return __generator(this, function (_a) {\n                key = this.generateItemKey(itemKey);\n                sessionStorage.removeItem(key);\n                return [2 /*return*/];\n            });\n        });\n    };\n    BrowserSessionManager.ITEM_NAME_PREFIX = 'browser-session-store@';\n    return BrowserSessionManager;\n}());\nexport { BrowserSessionManager };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/session-managers/index.js"],"sourcesContent":["export { BrowserSessionManager } from './BrowserSessionManager.js';\nexport * from './types.js';\n"],"names":[],"mappings":";AAAA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/exceptions.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport var KindeSDKErrorCode;\n(function (KindeSDKErrorCode) {\n    KindeSDKErrorCode[\"INVALID_TOKEN_MEMORY_COMMIT\"] = \"INVALID_TOKEN_MEMORY_COMMIT\";\n    KindeSDKErrorCode[\"FAILED_TOKENS_REFRESH_ATTEMPT\"] = \"FAILED_TOKENS_REFRESH_ATTEMPT\";\n})(KindeSDKErrorCode || (KindeSDKErrorCode = {}));\nvar KindeSDKError = /** @class */ (function (_super) {\n    __extends(KindeSDKError, _super);\n    function KindeSDKError(errorCode, message) {\n        var _this = _super.call(this, message) || this;\n        _this.errorCode = errorCode;\n        _this.name = 'KindeSDKError';\n        Object.setPrototypeOf(_this, KindeSDKError.prototype);\n        return _this;\n    }\n    return KindeSDKError;\n}(Error));\nexport { KindeSDKError };\n"],"names":[],"mappings":";;;;;;AAAA,IAAI,YAAY,4CAAS,yCAAK,SAAS,IAAK,AAAC;IACzC,IAAI,gBAAgB,SAAU,CAAC,EAAE,CAAC;QAC9B,gBAAgB,OAAO,cAAc,IAChC,CAAA;YAAE,WAAW,EAAE;QAAC,CAAA,aAAa,SAAS,SAAU,CAAC,EAAE,CAAC;YAAI,EAAE,SAAS,GAAG;QAAG,KAC1E,SAAU,CAAC,EAAE,CAAC;YAAI,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QAAE;QACpG,OAAO,cAAc,GAAG;IAC5B;IACA,OAAO,SAAU,CAAC,EAAE,CAAC;QACjB,IAAI,OAAO,MAAM,cAAc,MAAM,MACjC,MAAM,IAAI,UAAU,yBAAyB,OAAO,KAAK;QAC7D,cAAc,GAAG;QACjB,SAAS;YAAO,IAAI,CAAC,WAAW,GAAG;QAAG;QACtC,EAAE,SAAS,GAAG,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,SAAS,EAAE,IAAI,IAAI;IACvF;AACJ;AACO,IAAI;AACX,CAAC,SAAU,iBAAiB;IACxB,iBAAiB,CAAC,8BAA8B,GAAG;IACnD,iBAAiB,CAAC,gCAAgC,GAAG;AACzD,CAAC,EAAE,qBAAqB,CAAC,oBAAoB,CAAC,CAAC;AAC/C,IAAI,gBAA+B,SAAU,MAAM;IAC/C,UAAU,eAAe;IACzB,SAAS,cAAc,SAAS,EAAE,OAAO;QACrC,IAAI,QAAQ,OAAO,IAAI,CAAC,IAAI,EAAE,YAAY,IAAI;QAC9C,MAAM,SAAS,GAAG;QAClB,MAAM,IAAI,GAAG;QACb,OAAO,cAAc,CAAC,OAAO,cAAc,SAAS;QACpD,OAAO;IACX;IACA,OAAO;AACX,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/token-utils.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { KindeSDKError, KindeSDKErrorCode } from '../exceptions.js';\nimport { validateToken } from '@kinde/jwt-validator';\nimport { jwtDecoder } from '@kinde/jwt-decoder';\n/**\n * Saves the provided token to the current session.\n * @param {SessionManager} sessionManager\n * @param {string} token\n * @param {TokenValidationDetailsType} validationDetails\n * @param {TokenType} type\n */\nexport var commitTokenToSession = function (sessionManager, token, type, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var validation, isExpired, e_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!!token) return [3 /*break*/, 2];\n                return [4 /*yield*/, sessionManager.removeSessionItem(type)];\n            case 1:\n                _a.sent();\n                return [2 /*return*/];\n            case 2:\n                if (!(type === 'access_token' || type === 'id_token')) return [3 /*break*/, 7];\n                _a.label = 3;\n            case 3:\n                _a.trys.push([3, 6, , 7]);\n                return [4 /*yield*/, validateToken({\n                        token: token,\n                        domain: validationDetails.issuer,\n                    })];\n            case 4:\n                validation = _a.sent();\n                if (!validation.valid) {\n                    throw new Error(validation.message);\n                }\n                return [4 /*yield*/, isTokenExpired(token, validationDetails)];\n            case 5:\n                isExpired = _a.sent();\n                if (isExpired) {\n                    throw new Error('Token is expired');\n                }\n                return [3 /*break*/, 7];\n            case 6:\n                e_1 = _a.sent();\n                throw new KindeSDKError(KindeSDKErrorCode.INVALID_TOKEN_MEMORY_COMMIT, \"Attempting to commit invalid \".concat(type, \" token \\\"\").concat(token, \"\\\" to memory\"));\n            case 7: return [4 /*yield*/, sessionManager.setSessionItem(type, token)];\n            case 8:\n                _a.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Saves the access, refresh and id tokens provided in the `TokenCollection`\n * object to the current session.\n * @param {SessionManager} sessionManager\n * @param tokens\n */\nexport var commitTokensToSession = function (sessionManager, tokens, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var payload;\n    var _a, _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                payload = jwtDecoder(tokens.access_token);\n                if (payload) {\n                    sessionManager.persistent = (_b = (_a = payload.ksp) === null || _a === void 0 ? void 0 : _a.persistent) !== null && _b !== void 0 ? _b : true;\n                }\n                return [4 /*yield*/, Promise.all([\n                        commitTokenToSession(sessionManager, tokens.refresh_token, 'refresh_token', validationDetails),\n                        commitTokenToSession(sessionManager, tokens.access_token, 'access_token', validationDetails),\n                        commitTokenToSession(sessionManager, tokens.id_token, 'id_token', validationDetails),\n                    ])];\n            case 1:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n}); };\n/**\n * Extracts the refresh token from current session returns null if the\n * token is not found.\n * @param {SessionManager} sessionManager\n * @returns {string | null}\n */\nexport var getRefreshToken = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, sessionManager.getSessionItem('refresh_token')];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\n/**\n * Extracts the access token from current session returns null if the\n * token is not found.\n * @param {SessionManager} sessionManager\n * @returns {string | null}\n */\nexport var getAccessToken = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, sessionManager.getSessionItem('access_token')];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\n/**\n * Extracts the user information from the current session returns null if\n * the token is not found.\n * @param {SessionManager} sessionManager\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {UserType | null}\n */\nexport var getUserFromSession = function (sessionManager, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var idTokenString, validation, payload, user;\n    var _a, _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, sessionManager.getSessionItem('id_token')];\n            case 1:\n                idTokenString = (_c.sent());\n                return [4 /*yield*/, validateToken({\n                        token: idTokenString,\n                        domain: validationDetails.issuer,\n                    })];\n            case 2:\n                validation = _c.sent();\n                if (!validation.valid) {\n                    throw new Error(validation.message);\n                }\n                payload = (_a = jwtDecoder(idTokenString)) !== null && _a !== void 0 ? _a : {};\n                if (Object.keys(payload).length === 0) {\n                    throw new Error('Invalid ID token');\n                }\n                user = {\n                    family_name: payload.family_name,\n                    given_name: payload.given_name,\n                    picture: (_b = payload.picture) !== null && _b !== void 0 ? _b : null,\n                    email: payload.email,\n                    phone: payload.phone,\n                    id: payload.sub,\n                };\n                return [2 /*return*/, user];\n        }\n    });\n}); };\n/**\n * Checks if the provided JWT token is valid (expired or not).\n * @param {string | null} token\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {boolean} is expired or not\n */\nexport var isTokenExpired = function (token, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var validation, currentUnixTime, payload, e_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!token)\n                    return [2 /*return*/, true];\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, , 4]);\n                return [4 /*yield*/, validateToken({\n                        token: token,\n                        domain: validationDetails.issuer,\n                    })];\n            case 2:\n                validation = _a.sent();\n                if (!validation.valid) {\n                    return [2 /*return*/, true];\n                }\n                currentUnixTime = Math.floor(Date.now() / 1000);\n                payload = jwtDecoder(token);\n                if (!payload || payload.exp === undefined)\n                    return [2 /*return*/, true];\n                return [2 /*return*/, currentUnixTime >= payload.exp];\n            case 3:\n                e_2 = _a.sent();\n                return [2 /*return*/, true];\n            case 4: return [2 /*return*/];\n        }\n    });\n}); };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 765, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/token-claims.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { jwtDecoder } from '@kinde/jwt-decoder';\nimport { validateToken } from '@kinde/jwt-validator';\nimport { isTokenExpired } from './token-utils.js';\n/**\n * Method extracts the provided claim from the provided token type in the\n * current session.\n * @param {SessionManager} sessionManager\n * @param {string} claim\n * @param {ClaimTokenType} type\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {unknown | null}\n */\nexport var getClaimValue = function (sessionManager_1, claim_1) {\n    var args_1 = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args_1[_i - 2] = arguments[_i];\n    }\n    return __awaiter(void 0, __spreadArray([sessionManager_1, claim_1], __read(args_1), false), void 0, function (sessionManager, claim, type, validationDetails) {\n        var token, expired, validation, tokenPayload;\n        var _a;\n        if (type === void 0) { type = 'access_token'; }\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, sessionManager.getSessionItem(\"\".concat(type))];\n                case 1:\n                    token = (_b.sent());\n                    if (!(type === 'access_token')) return [3 /*break*/, 3];\n                    return [4 /*yield*/, isTokenExpired(token, validationDetails)];\n                case 2:\n                    expired = _b.sent();\n                    if (expired) {\n                        throw new Error('Access token expired');\n                    }\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, validateToken({\n                        token: token,\n                        domain: validationDetails.issuer,\n                    })];\n                case 4:\n                    validation = _b.sent();\n                    if (!validation.valid) {\n                        throw new Error(validation.message);\n                    }\n                    _b.label = 5;\n                case 5:\n                    tokenPayload = jwtDecoder(token);\n                    return [2 /*return*/, (_a = tokenPayload[claim]) !== null && _a !== void 0 ? _a : null];\n            }\n        });\n    });\n};\n/**\n * Method extracts the provided claim from the provided token type in the\n * current session, the returned object includes the provided claim.\n * @param {SessionManager} sessionManager\n * @param {string} claim\n * @param {ClaimTokenType} type\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {{ name: string, value: unknown | null }}\n */\nexport var getClaim = function (sessionManager, claim, type, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                _a = {\n                    name: claim\n                };\n                return [4 /*yield*/, getClaimValue(sessionManager, claim, type, validationDetails)];\n            case 1: return [2 /*return*/, (_a.value = _b.sent(),\n                    _a)];\n        }\n    });\n}); };\n/**\n * Method returns the organization code from the current session and returns\n * a boolean in the returned object indicating if the provided permission is\n * present in the session.\n * @param {SessionManager} sessionManager\n * @param {string} name\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {{ orgCode: string | null, isGranted: boolean }}\n */\nexport var getPermission = function (sessionManager, name, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var permissions, isGranted, orgCode;\n    var _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0: return [4 /*yield*/, getClaimValue(sessionManager, 'permissions', 'access_token', validationDetails)];\n            case 1:\n                permissions = ((_a = (_b.sent())) !== null && _a !== void 0 ? _a : []);\n                isGranted = permissions.some(function (p) { return p === name; });\n                return [4 /*yield*/, getClaimValue(sessionManager, 'org_code', 'access_token', validationDetails)];\n            case 2:\n                orgCode = (_b.sent());\n                return [2 /*return*/, { orgCode: orgCode, isGranted: isGranted }];\n        }\n    });\n}); };\n/**\n * Method extracts the organization code from the current session.\n * @param {SessionManager} sessionManager\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {{ orgCode: string | null }}\n */\nexport var getOrganization = function (sessionManager, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                _a = {};\n                return [4 /*yield*/, getClaimValue(sessionManager, 'org_code', 'access_token', validationDetails)];\n            case 1: return [2 /*return*/, (_a.orgCode = (_b.sent()),\n                    _a)];\n        }\n    });\n}); };\n/**\n * Method extracts all the permission and the organization code in the access\n * token in the current session.\n * @param {SessionManager} sessionManager\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {{ permissions: string[], orgCode: string | null }}\n */\nexport var getPermissions = function (sessionManager, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, permissions, orgCode, _b, _c, _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                _c = (_b = Promise).all;\n                return [4 /*yield*/, getClaimValue(sessionManager, 'permissions', 'access_token', validationDetails)];\n            case 1:\n                _d = [\n                    (_e.sent())\n                ];\n                return [4 /*yield*/, getClaimValue(sessionManager, 'org_code', 'access_token', validationDetails)];\n            case 2: return [4 /*yield*/, _c.apply(_b, [_d.concat([\n                        (_e.sent())\n                    ])])];\n            case 3:\n                _a = __read.apply(void 0, [_e.sent(), 2]), permissions = _a[0], orgCode = _a[1];\n                return [2 /*return*/, {\n                        permissions: permissions,\n                        orgCode: orgCode,\n                    }];\n        }\n    });\n}); };\n/**\n * Method extracts all organization codes from the id token in the current\n * session.\n * @param {SessionManager} sessionManager\n * @param {TokenValidationDetailsType} validationDetails\n * @returns {{ orgCodes: string[] }}\n */\nexport var getUserOrganizations = function (sessionManager, validationDetails) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                _a = {};\n                return [4 /*yield*/, getClaimValue(sessionManager, 'org_codes', 'id_token', validationDetails)];\n            case 1: return [2 /*return*/, (_a.orgCodes = (_b.sent()),\n                    _a)];\n        }\n    });\n}); };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1140, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/feature-flags.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { getClaimValue } from './token-claims.js';\nimport { FlagDataType, } from './types.js';\n/**\n * Method extracts the provided feature flag from the access token in the\n * current session.\n * @param {SessionManager} sessionManager\n * @param {string} code\n * @param {FlagType[keyof FlagType]} defaultValue\n * @param {keyof FlagType} type\n * @returns {GetFlagType}\n */\nexport var getFlag = function (sessionManager, code, validationDetails, defaultValue, type) { return __awaiter(void 0, void 0, void 0, function () {\n    var featureFlags, flag, response;\n    var _a, _b, _c;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0: return [4 /*yield*/, getClaimValue(sessionManager, 'feature_flags', 'access_token', validationDetails)];\n            case 1:\n                featureFlags = (_a = (_d.sent())) !== null && _a !== void 0 ? _a : {};\n                flag = featureFlags[code];\n                if (!flag && defaultValue === undefined) {\n                    throw new Error(\"Flag \".concat(code, \" was not found, and no default value has been provided\"));\n                }\n                if ((flag === null || flag === void 0 ? void 0 : flag.t) && type && type !== (flag === null || flag === void 0 ? void 0 : flag.t)) {\n                    throw new Error(\"Flag \".concat(code, \" is of type \").concat(FlagDataType[flag.t], \", expected type is \").concat(FlagDataType[type]));\n                }\n                response = {\n                    is_default: (flag === null || flag === void 0 ? void 0 : flag.v) === undefined,\n                    value: (_b = flag === null || flag === void 0 ? void 0 : flag.v) !== null && _b !== void 0 ? _b : defaultValue,\n                    code: code,\n                };\n                if (!response.is_default) {\n                    response.type = FlagDataType[(_c = flag === null || flag === void 0 ? void 0 : flag.t) !== null && _c !== void 0 ? _c : type];\n                }\n                return [2 /*return*/, response];\n        }\n    });\n}); };\n/**\n * Method extracts the provided number feature flag from the access token in\n * the current session.\n * @param {SessionManager} sessionManager\n * @param {string} code\n * @param {number} defaultValue\n * @returns {number} integer flag value\n */\nexport var getIntegerFlag = function (sessionManager, code, validationDetails, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getFlag(sessionManager, code, validationDetails, defaultValue, 'i')];\n            case 1: return [2 /*return*/, (_a.sent())\n                    .value];\n        }\n    });\n}); };\n/**\n * Method extracts the provided string feature flag from the access token in\n * the current session.\n * @param {SessionManager} sessionManager\n * @param {string} code\n * @param {string} defaultValue\n * @returns {string} string flag value\n */\nexport var getStringFlag = function (sessionManager, code, validationDetails, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getFlag(sessionManager, code, validationDetails, defaultValue, 's')];\n            case 1: return [2 /*return*/, (_a.sent())\n                    .value];\n        }\n    });\n}); };\n/**\n * Method extracts the provided boolean feature flag from the access token in\n * the current session.\n * @param {SessionManager} sessionManager\n * @param {string} code\n * @param {boolean} defaultValue\n * @returns {boolean} boolean flag value\n */\nexport var getBooleanFlag = function (sessionManager, code, validationDetails, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, getFlag(sessionManager, code, validationDetails, defaultValue, 'b')];\n            case 1: return [2 /*return*/, (_a.sent())\n                    .value];\n        }\n    });\n}); };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/random-string.js"],"sourcesContent":["import { getRandomValues } from 'uncrypto';\n/**\n * Creates a random string of provided length.\n * @param {number} length\n * @returns {string} required secret\n */\nexport var generateRandomString = function (length) {\n    if (length === void 0) { length = 28; }\n    var bytesNeeded = Math.ceil(length / 2);\n    var array = new Uint32Array(bytesNeeded);\n    getRandomValues(array);\n    var result = Array.from(array, function (dec) { return ('0' + dec.toString(16)).slice(-2); }).join('');\n    if (length % 2 !== 0) {\n        // If the requested length is odd, remove the last character to adjust the length\n        result = result.slice(0, -1);\n    }\n    return result;\n};\n"],"names":[],"mappings":";;;;AAAA;;AAMO,IAAI,uBAAuB,SAAU,MAAM;IAC9C,IAAI,WAAW,KAAK,GAAG;QAAE,SAAS;IAAI;IACtC,IAAI,cAAc,KAAK,IAAI,CAAC,SAAS;IACrC,IAAI,QAAQ,IAAI,YAAY;IAC5B,IAAA,wKAAe,EAAC;IAChB,IAAI,SAAS,MAAM,IAAI,CAAC,OAAO,SAAU,GAAG;QAAI,OAAO,CAAC,MAAM,IAAI,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAAI,GAAG,IAAI,CAAC;IACnG,IAAI,SAAS,MAAM,GAAG;QAClB,iFAAiF;QACjF,SAAS,OAAO,KAAK,CAAC,GAAG,CAAC;IAC9B;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1394, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/code-challenge.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { generateRandomString } from './random-string.js';\nimport { subtle } from 'uncrypto';\n/**\n * Encodes the provided ArrayBuffer string to base-64 format.\n * @param {ArrayBuffer} str\n * @returns {string}\n */\nexport var base64UrlEncode = function (str) {\n    return btoa(String.fromCharCode.apply(String, __spreadArray([], __read(new Uint8Array(str)), false)))\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+$/, '');\n};\n/**\n * Creates a one-way hash for the provided string using SHA-256\n * algorithm, the result is provided as an ArrayBuffer instance.\n * @param {string} plain\n * @returns {Promise<ArrayBuffer>}\n */\nexport var sha256 = function (plain) { return __awaiter(void 0, void 0, void 0, function () {\n    var encoder, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                encoder = new TextEncoder();\n                data = encoder.encode(plain);\n                return [4 /*yield*/, subtle.digest('SHA-256', data)];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\n/**\n * Sets up the code challenge required for PKCE OAuth2.0 flow\n * returning the verifier (secret) and its corresponding one-way\n * hash (challenge).\n * @returns {Promise<{ challenge: string, verifier: string }>}\n */\nexport var setupCodeChallenge = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var secret, challenge, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                secret = generateRandomString(50);\n                _a = base64UrlEncode;\n                return [4 /*yield*/, sha256(secret)];\n            case 1:\n                challenge = _a.apply(void 0, [_b.sent()]);\n                return [2 /*return*/, { challenge: challenge, verifier: secret }];\n        }\n    });\n}); };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1609, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/validate-client-secret.js"],"sourcesContent":["/**\n * Validates that the supplied client secret is in the correct format.\n * @param {string} secret\n * @returns {boolean}\n */\nexport var validateClientSecret = function (secret) {\n    var _a;\n    return !!((_a = secret.match('^[a-zA-Z0-9]{40,60}$')) === null || _a === void 0 ? void 0 : _a.length);\n};\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACM,IAAI,uBAAuB,SAAU,MAAM;IAC9C,IAAI;IACJ,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,KAAK,CAAC,uBAAuB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,MAAM;AACxG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1625, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/index.js"],"sourcesContent":["import * as featureFlags from './feature-flags.js';\nimport * as tokenClaims from './token-claims.js';\nexport { featureFlags, tokenClaims };\nexport * from './feature-flags.js';\nexport * from './code-challenge.js';\nexport * from './random-string.js';\nexport * from './token-claims.js';\nexport * from './token-utils.js';\nexport * from './types.js';\nexport * from './validate-client-secret.js';\n"],"names":[],"mappings":";AAAA;AACA;AAGA;AACA;AAEA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1647, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/version.js"],"sourcesContent":["/**\n * This file is read-only, the const SDK_VERSION will be set to the package version\n * from package.json at build time, this action may or may not effect any changes\n * you make to this file. We therefore recommend that you refrain from editing this\n * file.\n */\nexport var SDK_VERSION = '2.13.1';\nexport var getSDKHeader = function (options) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var version = (_a = options.frameworkVersion) !== null && _a !== void 0 ? _a : SDK_VERSION;\n    var framework = (_b = options.framework) !== null && _b !== void 0 ? _b : 'TypeScript';\n    var headerValue = \"\".concat(framework, \"/\").concat(version);\n    return ['Kinde-SDK', headerValue];\n};\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;AACM,IAAI,cAAc;AAClB,IAAI,eAAe,SAAU,OAAO;IACvC,IAAI,IAAI;IACR,IAAI,YAAY,KAAK,GAAG;QAAE,UAAU,CAAC;IAAG;IACxC,IAAI,UAAU,CAAC,KAAK,QAAQ,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IAC/E,IAAI,YAAY,CAAC,KAAK,QAAQ,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;IAC1E,IAAI,cAAc,GAAG,MAAM,CAAC,WAAW,KAAK,MAAM,CAAC;IACnD,OAAO;QAAC;QAAa;KAAY;AACrC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1676, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/ClientCredentials.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as utilities from '../utilities/index.js';\nimport { getSDKHeader } from '../version.js';\n/**\n * Class provides implementation for the client credentials OAuth2.0 flow.\n * @class ClientCredentials\n */\nvar ClientCredentials = /** @class */ (function () {\n    function ClientCredentials(config) {\n        this.config = config;\n        var authDomain = config.authDomain, logoutRedirectURL = config.logoutRedirectURL;\n        this.logoutEndpoint = \"\".concat(authDomain, \"/logout?redirect=\").concat(logoutRedirectURL !== null && logoutRedirectURL !== void 0 ? logoutRedirectURL : '');\n        this.tokenEndpoint = \"\".concat(authDomain, \"/oauth2/token\");\n        this.config = config;\n        this.tokenValidationDetails = {\n            issuer: config.authDomain,\n            audience: config.audience,\n        };\n    }\n    /**\n     * Method retrieves the access token, if the token present in the current session\n     * is unexpired it will be returned otherwise, a new one will be be obtained by\n     * performing a network call.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<string>}\n     */\n    ClientCredentials.prototype.getToken = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var accessToken, isTokenExpired, payload;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, utilities.getAccessToken(sessionManager)];\n                    case 1:\n                        accessToken = _a.sent();\n                        return [4 /*yield*/, utilities.isTokenExpired(accessToken, this.tokenValidationDetails)];\n                    case 2:\n                        isTokenExpired = _a.sent();\n                        if (accessToken && !isTokenExpired) {\n                            return [2 /*return*/, accessToken];\n                        }\n                        return [4 /*yield*/, this.fetchAccessTokenFor(sessionManager)];\n                    case 3:\n                        payload = _a.sent();\n                        return [4 /*yield*/, utilities.commitTokenToSession(sessionManager, payload.access_token, 'access_token', this.tokenValidationDetails)];\n                    case 4:\n                        _a.sent();\n                        return [2 /*return*/, payload.access_token];\n                }\n            });\n        });\n    };\n    /**\n     * Method implements logic for requesting access token using token endpoint.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<OAuth2CCTokenResponse>}\n     */\n    ClientCredentials.prototype.fetchAccessTokenFor = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var body, headers, config, response, payload, errorPayload, errorDescription, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        body = this.generateTokenURLParams();\n                        headers = new Headers();\n                        headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                        headers.append.apply(headers, __spreadArray([], __read(getSDKHeader({\n                            frameworkVersion: this.config.frameworkVersion,\n                            framework: this.config.framework,\n                        })), false));\n                        config = { method: 'POST', headers: headers, body: body };\n                        return [4 /*yield*/, fetch(this.tokenEndpoint, config)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        payload = (_a.sent());\n                        errorPayload = payload;\n                        if (!errorPayload.error) return [3 /*break*/, 4];\n                        return [4 /*yield*/, sessionManager.destroySession()];\n                    case 3:\n                        _a.sent();\n                        errorDescription = errorPayload.error_description;\n                        message = errorDescription !== null && errorDescription !== void 0 ? errorDescription : errorPayload.error;\n                        throw new Error(message);\n                    case 4: return [2 /*return*/, payload];\n                }\n            });\n        });\n    };\n    /**\n     * Method returns a boolean indicating if the access token in session is expired\n     * or not, in the event the token is expired it makes use of the `getToken` method\n     * above to first refresh it, in the event refresh fails false is returned.\n     * @param sessionManager\n     * @returns {Promise<boolean>}\n     */\n    ClientCredentials.prototype.isAuthenticated = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getToken(sessionManager)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, true];\n                    case 2:\n                        error_1 = _a.sent();\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides the query params required for generating the token URL for\n     * obtaining the required access token.\n     * @returns {URLSearchParams}\n     */\n    ClientCredentials.prototype.generateTokenURLParams = function () {\n        if (!utilities.validateClientSecret(this.config.clientSecret)) {\n            throw new Error(\"Invalid client secret \".concat(this.config.clientSecret));\n        }\n        var searchParams = new URLSearchParams({\n            grant_type: 'client_credentials',\n            client_id: this.config.clientId,\n            client_secret: this.config.clientSecret,\n        });\n        if (this.config.scope !== undefined) {\n            searchParams.append('scope', this.config.scope);\n        }\n        if (this.config.audience) {\n            var audienceArray = Array.isArray(this.config.audience)\n                ? this.config.audience\n                : [this.config.audience];\n            audienceArray.forEach(function (aud) {\n                searchParams.append('audience', aud);\n            });\n        }\n        return new URLSearchParams(searchParams);\n    };\n    return ClientCredentials;\n}());\nexport { ClientCredentials };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2031, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/AuthCodeAbstract.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { KindeSDKError, KindeSDKErrorCode } from '../exceptions.js';\nimport { isNodeEnvironment } from '../environment.js';\nimport * as utilities from '../utilities/index.js';\nimport { getSDKHeader } from '../version.js';\n/**\n * Abstract class provides contract (methods) for classes implementing OAuth2.0 flows\n * for authorization_code grant type, this includes the basic Authorization Code flow\n * and the PKCE extention code flow.\n * @class AuthCodeAbstract\n * @param {AuthorizationCodeOptions} config\n */\nvar AuthCodeAbstract = /** @class */ (function () {\n    function AuthCodeAbstract(config) {\n        this.config = config;\n        var authDomain = config.authDomain, logoutRedirectURL = config.logoutRedirectURL;\n        this.logoutEndpoint = \"\".concat(authDomain, \"/logout?redirect=\").concat(logoutRedirectURL !== null && logoutRedirectURL !== void 0 ? logoutRedirectURL : '');\n        this.userProfileEndpoint = \"\".concat(authDomain, \"/oauth2/v2/user_profile\");\n        this.authorizationEndpoint = \"\".concat(authDomain, \"/oauth2/auth\");\n        this.tokenEndpoint = \"\".concat(authDomain, \"/oauth2/token\");\n        this.tokenValidationDetails = {\n            issuer: config.authDomain,\n            audience: config.audience,\n        };\n    }\n    /**\n     * Method handles redirection logic to after authorization server redirects back\n     * to application, this method makes use of the @see {exchangeAuthCodeForTokens}\n     * method above and saves the received tokens to the current session.\n     * @param {SessionManager} sessionManager\n     * @param {URL} callbackURL\n     * @returns {Promise<void>}\n     */\n    AuthCodeAbstract.prototype.handleRedirectFromAuthDomain = function (sessionManager, callbackURL) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokens;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.exchangeAuthCodeForTokens(sessionManager, callbackURL)];\n                    case 1:\n                        tokens = _a.sent();\n                        return [4 /*yield*/, utilities.commitTokensToSession(sessionManager, tokens, this.tokenValidationDetails)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method retrieves the access token, if the token present in the current session\n     * is unexpired it will be returned otherwise, a new one will be obtained using\n     * the refresh token if the refresh token is not available either an error will\n     * be thrown.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<string>}\n     */\n    AuthCodeAbstract.prototype.getToken = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var accessToken, isAccessTokenExpired, refreshToken, tokens, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, utilities.getAccessToken(sessionManager)];\n                    case 1:\n                        accessToken = _a.sent();\n                        if (!accessToken) {\n                            throw new Error('No authentication credential found');\n                        }\n                        return [4 /*yield*/, utilities.isTokenExpired(accessToken, this.tokenValidationDetails)];\n                    case 2:\n                        isAccessTokenExpired = _a.sent();\n                        if (!isAccessTokenExpired) {\n                            return [2 /*return*/, accessToken];\n                        }\n                        return [4 /*yield*/, utilities.getRefreshToken(sessionManager)];\n                    case 3:\n                        refreshToken = _a.sent();\n                        if (!refreshToken && isNodeEnvironment()) {\n                            throw Error('Cannot persist session no valid refresh token found');\n                        }\n                        _a.label = 4;\n                    case 4:\n                        _a.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.refreshTokens(sessionManager)];\n                    case 5:\n                        tokens = _a.sent();\n                        return [2 /*return*/, tokens.access_token];\n                    case 6:\n                        error_1 = _a.sent();\n                        throw new KindeSDKError(KindeSDKErrorCode.FAILED_TOKENS_REFRESH_ATTEMPT, \"Failed to refresh tokens owing to: \".concat(error_1.message));\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method returns a boolean indicating if the access token in session is expired\n     * or not, in the event the token is expired it makes use of the `getToken` method\n     * above to first refresh it, in the event refresh fails false is returned.\n     * @param sessionManager\n     * @returns {Promise<boolean>}\n     */\n    AuthCodeAbstract.prototype.isAuthenticated = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getToken(sessionManager)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, true];\n                    case 2:\n                        error_2 = _a.sent();\n                        return [2 /*return*/, false];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method makes use of the user profile V2 endpoint to fetch the authenticated\n     * user's profile information.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<UserType>}\n     */\n    AuthCodeAbstract.prototype.getUserProfile = function (sessionManager) {\n        return __awaiter(this, void 0, void 0, function () {\n            var accessToken, headers, targetURL, config, response, payload;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getToken(sessionManager)];\n                    case 1:\n                        accessToken = _a.sent();\n                        headers = new Headers();\n                        headers.append('Authorization', \"Bearer \".concat(accessToken));\n                        headers.append('Accept', 'application/json');\n                        targetURL = this.userProfileEndpoint;\n                        config = { method: 'GET', headers: headers };\n                        return [4 /*yield*/, fetch(targetURL, config)];\n                    case 2:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 3:\n                        payload = (_a.sent());\n                        return [2 /*return*/, payload];\n                }\n            });\n        });\n    };\n    /**\n     * A helper method employed by @see {exchangeAuthCodeForTokens} method in child\n     * classes to extract code and state parameters from the received callback URL\n     * an exception is raised in the event the callback URL contains an error query\n     * parameter.\n     * @param {URL} callbackURL\n     * @returns {[string, string]} c\n     */\n    AuthCodeAbstract.prototype.getCallbackURLParams = function (callbackURL) {\n        var searchParams = new URLSearchParams(callbackURL.search);\n        var state = searchParams.get('state');\n        var error = searchParams.get('error');\n        var code = searchParams.get('code');\n        if (error) {\n            throw new Error(\"Authorization server reported an error: \".concat(error));\n        }\n        return [code, state];\n    };\n    /**\n     * Method implements logic for fetching tokens from the authorization server using\n     * the provided body, the `useCookies` is used exclusively on the browser.\n     * @param {SessionManager} sessionManager\n     * @param {URLSearchParams} body\n     * @param {boolean} useCookies\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    AuthCodeAbstract.prototype.fetchTokensFor = function (sessionManager_1, body_1) {\n        return __awaiter(this, arguments, void 0, function (sessionManager, body, useCookies) {\n            var headers, config, response, payload, errorPayload, errorDescription, message;\n            if (useCookies === void 0) { useCookies = false; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headers = new Headers();\n                        headers.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                        headers.append.apply(headers, __spreadArray([], __read(getSDKHeader({\n                            frameworkVersion: this.config.frameworkVersion,\n                            framework: this.config.framework,\n                        })), false));\n                        config = {\n                            method: 'POST',\n                            headers: headers,\n                            body: body,\n                            credentials: useCookies ? 'include' : undefined,\n                        };\n                        return [4 /*yield*/, fetch(this.tokenEndpoint, config)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.json()];\n                    case 2:\n                        payload = (_a.sent());\n                        errorPayload = payload;\n                        if (!errorPayload.error) return [3 /*break*/, 4];\n                        return [4 /*yield*/, sessionManager.destroySession()];\n                    case 3:\n                        _a.sent();\n                        errorDescription = errorPayload.error_description;\n                        message = errorDescription !== null && errorDescription !== void 0 ? errorDescription : errorPayload.error;\n                        throw new Error(message);\n                    case 4: return [2 /*return*/, payload];\n                }\n            });\n        });\n    };\n    /**\n     * Helper method employed by @see {createAuthorizationURL} method above for\n     * generating the aforementioned authorization URL.\n     * @param {AuthURLOptions}\n     * @returns {URLSearchParams}\n     */\n    AuthCodeAbstract.prototype.generateAuthURLParams = function (options) {\n        var _a, _b;\n        if (options === void 0) { options = {}; }\n        var searchParams = this.getBaseAuthURLParams();\n        var scope = (_a = this.config.scope) !== null && _a !== void 0 ? _a : AuthCodeAbstract.DEFAULT_TOKEN_SCOPES;\n        scope = scope.split(' ').includes('openid') ? scope : \"\".concat(scope, \" openid\");\n        var searchParamsObject = {\n            scope: scope,\n        };\n        if (options.start_page) {\n            searchParamsObject.start_page = options.start_page;\n        }\n        if (options.org_code) {\n            searchParamsObject.org_code = options.org_code;\n        }\n        if (options.is_create_org) {\n            searchParamsObject.org_name = (_b = options.org_name) !== null && _b !== void 0 ? _b : '';\n            searchParamsObject.is_create_org = 'true';\n        }\n        if (options.authUrlParams) {\n            var _c = options.authUrlParams, lang = _c.lang, loginHint = _c.login_hint, connectionId = _c.connection_id, state = _c.state, rest = __rest(_c, [\"lang\", \"login_hint\", \"connection_id\", \"state\"]);\n            searchParamsObject = __assign(__assign({}, rest), searchParamsObject);\n            if (lang) {\n                searchParamsObject.lang = lang;\n            }\n            if (loginHint) {\n                searchParamsObject.login_hint = loginHint;\n            }\n            if (connectionId) {\n                searchParamsObject.connection_id = connectionId;\n            }\n        }\n        for (var key in searchParamsObject) {\n            var value = searchParamsObject[key];\n            if (typeof value === 'object' && value !== null) {\n                searchParams.append(key, JSON.stringify(value));\n            }\n            else {\n                searchParams.append(key, String(value));\n            }\n        }\n        if (this.config.audience) {\n            var audienceArray = Array.isArray(this.config.audience)\n                ? this.config.audience\n                : [this.config.audience];\n            audienceArray.forEach(function (aud) {\n                searchParams.append('audience', aud);\n            });\n        }\n        return searchParams;\n    };\n    AuthCodeAbstract.DEFAULT_TOKEN_SCOPES = 'openid profile email offline';\n    return AuthCodeAbstract;\n}());\nexport { AuthCodeAbstract };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2573, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/utilities/createPortalUrl.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { generatePortalUrl, MemoryStorage, setActiveStorage, StorageKeys, } from '@kinde/js-utils';\nexport var createPortalUrl = function (sessionManager, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var token, storage;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, sessionManager.getSessionItem('access_token')];\n            case 1:\n                token = _a.sent();\n                if (!token) {\n                    throw new Error('No active session found.');\n                }\n                storage = new MemoryStorage();\n                return [4 /*yield*/, storage.setSessionItem(StorageKeys.accessToken, token)];\n            case 2:\n                _a.sent();\n                setActiveStorage(storage);\n                return [4 /*yield*/, generatePortalUrl({\n                        domain: options.domain,\n                        returnUrl: options.returnUrl,\n                        subNav: options.subNav,\n                    })];\n            case 3: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2746, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/AuthorizationCode.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { AuthCodeAbstract } from './AuthCodeAbstract.js';\nimport * as utilities from '../utilities/index.js';\nimport { createPortalUrl } from '../utilities/createPortalUrl.js';\n/**\n * Class provides implementation for the authorization code OAuth2.0 flow.\n * @class AuthorizationCode\n * @param {AuthorizationCodeOptions} config\n * @param {string} clientSecret\n */\nvar AuthorizationCode = /** @class */ (function (_super) {\n    __extends(AuthorizationCode, _super);\n    function AuthorizationCode(config, clientSecret) {\n        var _this = _super.call(this, config) || this;\n        _this.config = config;\n        _this.clientSecret = clientSecret;\n        return _this;\n    }\n    /**\n     * Method provides implementation for `createAuthorizationURL` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {AuthURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    AuthorizationCode.prototype.createAuthorizationURL = function (sessionManager_1) {\n        return __awaiter(this, arguments, void 0, function (sessionManager, options) {\n            var providedState, _a, _b, authURL, authParams;\n            var _c, _d, _e;\n            if (options === void 0) { options = {}; }\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        providedState = (_c = options.state) !== null && _c !== void 0 ? _c : (_d = options.authUrlParams) === null || _d === void 0 ? void 0 : _d.state;\n                        _a = this;\n                        if (!(providedState !== null && providedState !== void 0)) return [3 /*break*/, 1];\n                        _b = providedState;\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, sessionManager.getSessionItem(AuthorizationCode.STATE_KEY)];\n                    case 2:\n                        _b = (_f.sent());\n                        _f.label = 3;\n                    case 3:\n                        _a.state =\n                            (_e = _b) !== null && _e !== void 0 ? _e : utilities.generateRandomString();\n                        return [4 /*yield*/, sessionManager.setSessionItem(AuthorizationCode.STATE_KEY, this.state)];\n                    case 4:\n                        _f.sent();\n                        authURL = new URL(this.authorizationEndpoint);\n                        authParams = this.generateAuthURLParams(options);\n                        authURL.search = authParams.toString();\n                        return [2 /*return*/, authURL];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `createPortalUrl` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {Omit<GeneratePortalUrlParams, 'domain'>} options\n     * @returns {Promise<{url: URL}>} required authorization URL\n     */\n    AuthorizationCode.prototype.createPortalUrl = function (sessionManager, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, createPortalUrl(sessionManager, __assign({ domain: this.config.authDomain }, options))];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `refreshTokens` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {boolean} [commitToSession=true] - Optional parameter, determines whether to commit the refreshed tokens to the session. Defaults to true.\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    AuthorizationCode.prototype.refreshTokens = function (sessionManager_1) {\n        return __awaiter(this, arguments, void 0, function (sessionManager, commitToSession) {\n            var refreshToken, body, tokens;\n            if (commitToSession === void 0) { commitToSession = true; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, utilities.getRefreshToken(sessionManager)];\n                    case 1:\n                        refreshToken = _a.sent();\n                        if (!utilities.validateClientSecret(this.clientSecret)) {\n                            throw new Error(\"Invalid client secret \".concat(this.clientSecret));\n                        }\n                        body = new URLSearchParams({\n                            grant_type: 'refresh_token',\n                            client_id: this.config.clientId,\n                            client_secret: this.clientSecret,\n                            refresh_token: refreshToken,\n                        });\n                        return [4 /*yield*/, this.fetchTokensFor(sessionManager, body)];\n                    case 2:\n                        tokens = _a.sent();\n                        if (!commitToSession) return [3 /*break*/, 4];\n                        return [4 /*yield*/, utilities.commitTokensToSession(sessionManager, tokens, this.tokenValidationDetails)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4: return [2 /*return*/, tokens];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `exchangeAuthCodeForTokens` method mandated\n     * by `AuthCodeAbstract` parent class, see corresponding comment in parent class\n     * for further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {URL} callbackURL\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    AuthorizationCode.prototype.exchangeAuthCodeForTokens = function (sessionManager, callbackURL) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, code, state, stateKey, storedState, body;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = __read(this.getCallbackURLParams(callbackURL), 2), code = _a[0], state = _a[1];\n                        stateKey = AuthorizationCode.STATE_KEY;\n                        return [4 /*yield*/, sessionManager.getSessionItem(stateKey)];\n                    case 1:\n                        storedState = (_b.sent());\n                        if (!storedState) {\n                            throw new Error(\"Authentication flow: Received: \".concat(state, \" | Expected: State not found\"));\n                        }\n                        if (storedState !== state) {\n                            throw new Error(\"Authentication flow: State mismatch. Received: \".concat(state, \" | Expected: \").concat(storedState));\n                        }\n                        if (!utilities.validateClientSecret(this.clientSecret)) {\n                            throw new Error(\"Invalid client secret \".concat(this.clientSecret));\n                        }\n                        body = new URLSearchParams({\n                            grant_type: 'authorization_code',\n                            client_id: this.config.clientId,\n                            client_secret: this.clientSecret,\n                            redirect_uri: this.config.redirectURL,\n                            code: code,\n                        });\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 6]);\n                        return [4 /*yield*/, this.fetchTokensFor(sessionManager, body)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4: return [4 /*yield*/, sessionManager.removeSessionItem(stateKey)];\n                    case 5:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `getBaseAuthURLParams` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class\n     * for further explanation.\n     * @returns {URLSearchParams} Required query parameters\n     */\n    AuthorizationCode.prototype.getBaseAuthURLParams = function () {\n        return new URLSearchParams({\n            state: this.state,\n            client_id: this.config.clientId,\n            redirect_uri: this.config.redirectURL,\n            response_type: 'code',\n        });\n    };\n    AuthorizationCode.STATE_KEY = 'ac-state-key';\n    return AuthorizationCode;\n}(AuthCodeAbstract));\nexport { AuthorizationCode };\n"],"names":[],"mappings":";;;;AA8EA;AACA;AAAA;AAAA;AAAA;AACA;AAhFA,IAAI,YAAY,4CAAS,yCAAK,SAAS,IAAK,AAAC;IACzC,IAAI,gBAAgB,SAAU,CAAC,EAAE,CAAC;QAC9B,gBAAgB,OAAO,cAAc,IAChC,CAAA;YAAE,WAAW,EAAE;QAAC,CAAA,aAAa,SAAS,SAAU,CAAC,EAAE,CAAC;YAAI,EAAE,SAAS,GAAG;QAAG,KAC1E,SAAU,CAAC,EAAE,CAAC;YAAI,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QAAE;QACpG,OAAO,cAAc,GAAG;IAC5B;IACA,OAAO,SAAU,CAAC,EAAE,CAAC;QACjB,IAAI,OAAO,MAAM,cAAc,MAAM,MACjC,MAAM,IAAI,UAAU,yBAAyB,OAAO,KAAK;QAC7D,cAAc,GAAG;QACjB,SAAS;YAAO,IAAI,CAAC,WAAW,GAAG;QAAG;QACtC,EAAE,SAAS,GAAG,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,SAAS,EAAE,IAAI,IAAI;IACvF;AACJ;AACA,IAAI,WAAW,4CAAS,yCAAK,QAAQ,IAAK;IACtC,WAAW,OAAO,MAAM,IAAI,SAAS,CAAC;QAClC,IAAK,IAAI,GAAG,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAI,GAAG,IAAK;YACjD,IAAI,SAAS,CAAC,EAAE;YAChB,IAAK,IAAI,KAAK,EAAG,IAAI,OAAO,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,IACzD,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE;QACnB;QACA,OAAO;IACX;IACA,OAAO,SAAS,KAAK,CAAC,IAAI,EAAE;AAChC;AACA,IAAI,YAAY,4CAAS,yCAAK,SAAS,IAAK,SAAU,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS;IACnF,SAAS,MAAM,KAAK;QAAI,OAAO,iBAAiB,IAAI,QAAQ,IAAI,EAAE,SAAU,OAAO;YAAI,QAAQ;QAAQ;IAAI;IAC3G,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,EAAE,SAAU,OAAO,EAAE,MAAM;QACrD,SAAS,UAAU,KAAK;YAAI,IAAI;gBAAE,KAAK,UAAU,IAAI,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC1F,SAAS,SAAS,KAAK;YAAI,IAAI;gBAAE,KAAK,SAAS,CAAC,QAAQ,CAAC;YAAS,EAAE,OAAO,GAAG;gBAAE,OAAO;YAAI;QAAE;QAC7F,SAAS,KAAK,MAAM;YAAI,OAAO,IAAI,GAAG,QAAQ,OAAO,KAAK,IAAI,MAAM,OAAO,KAAK,EAAE,IAAI,CAAC,WAAW;QAAW;QAC7G,KAAK,CAAC,YAAY,UAAU,KAAK,CAAC,SAAS,cAAc,EAAE,CAAC,EAAE,IAAI;IACtE;AACJ;AACA,IAAI,cAAc,4CAAS,yCAAK,WAAW,IAAK,SAAU,OAAO,EAAE,IAAI;IACnE,IAAI,IAAI;QAAE,OAAO;QAAG,MAAM;YAAa,IAAI,CAAC,CAAC,EAAE,GAAG,GAAG,MAAM,CAAC,CAAC,EAAE;YAAE,OAAO,CAAC,CAAC,EAAE;QAAE;QAAG,MAAM,EAAE;QAAE,KAAK,EAAE;IAAC,GAAG,GAAG,GAAG,GAAG,IAAI,OAAO,MAAM,CAAC,CAAC,OAAO,aAAa,aAAa,WAAW,MAAM,EAAE,SAAS;IAC/L,OAAO,EAAE,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,QAAQ,GAAG,KAAK,IAAI,CAAC,CAAC,SAAS,GAAG,KAAK,IAAI,OAAO,WAAW,cAAc,CAAC,CAAC,CAAC,OAAO,QAAQ,CAAC,GAAG;QAAa,OAAO,IAAI;IAAE,CAAC,GAAG;;;IAC1J,SAAS,KAAK,CAAC;QAAI,OAAO,SAAU,CAAC;YAAI,OAAO,KAAK;gBAAC;gBAAG;aAAE;QAAG;IAAG;IACjE,SAAS,KAAK,EAAE;QACZ,IAAI,GAAG,MAAM,IAAI,UAAU;QAC3B,MAAO,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAG,IAAI;YAC1C,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC,SAAS,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,OAAO;YAC3J,IAAI,IAAI,GAAG,GAAG,KAAK;gBAAC,EAAE,CAAC,EAAE,GAAG;gBAAG,EAAE,KAAK;aAAC;YACvC,OAAQ,EAAE,CAAC,EAAE;gBACT,KAAK;gBAAG,KAAK;oBAAG,IAAI;oBAAI;gBACxB,KAAK;oBAAG,EAAE,KAAK;oBAAI,OAAO;wBAAE,OAAO,EAAE,CAAC,EAAE;wBAAE,MAAM;oBAAM;gBACtD,KAAK;oBAAG,EAAE,KAAK;oBAAI,IAAI,EAAE,CAAC,EAAE;oBAAE,KAAK;wBAAC;qBAAE;oBAAE;gBACxC,KAAK;oBAAG,KAAK,EAAE,GAAG,CAAC,GAAG;oBAAI,EAAE,IAAI,CAAC,GAAG;oBAAI;gBACxC;oBACI,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC,GAAG;wBAAE,IAAI;wBAAG;oBAAU;oBAC3G,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK,CAAC,CAAC,KAAM,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,AAAC,GAAG;wBAAE,EAAE,KAAK,GAAG,EAAE,CAAC,EAAE;wBAAE;oBAAO;oBACrF,IAAI,EAAE,CAAC,EAAE,KAAK,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE;wBAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;wBAAE,IAAI;wBAAI;oBAAO;oBACpE,IAAI,KAAK,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE,EAAE;wBAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;wBAAE,EAAE,GAAG,CAAC,IAAI,CAAC;wBAAK;oBAAO;oBAClE,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,GAAG;oBACnB,EAAE,IAAI,CAAC,GAAG;oBAAI;YACtB;YACA,KAAK,KAAK,IAAI,CAAC,SAAS;QAC5B,EAAE,OAAO,GAAG;YAAE,KAAK;gBAAC;gBAAG;aAAE;YAAE,IAAI;QAAG,SAAU;YAAE,IAAI,IAAI;QAAG;QACzD,IAAI,EAAE,CAAC,EAAE,GAAG,GAAG,MAAM,EAAE,CAAC,EAAE;QAAE,OAAO;YAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,KAAK;YAAG,MAAM;QAAK;IACnF;AACJ;AACA,IAAI,SAAS,4CAAS,yCAAK,MAAM,IAAK,SAAU,CAAC,EAAE,CAAC;IAChD,IAAI,IAAI,OAAO,WAAW,cAAc,CAAC,CAAC,OAAO,QAAQ,CAAC;IAC1D,IAAI,CAAC,GAAG,OAAO;IACf,IAAI,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,KAAK,EAAE,EAAE;IAC/B,IAAI;QACA,MAAO,CAAC,MAAM,KAAK,KAAK,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,CAAE,GAAG,IAAI,CAAC,EAAE,KAAK;IAC7E,EACA,OAAO,OAAO;QAAE,IAAI;YAAE,OAAO;QAAM;IAAG,SAC9B;QACJ,IAAI;YACA,IAAI,KAAK,CAAC,EAAE,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,GAAG,EAAE,IAAI,CAAC;QAClD,SACQ;YAAE,IAAI,GAAG,MAAM,EAAE,KAAK;QAAE;IACpC;IACA,OAAO;AACX;;;;AAIA;;;;;CAKC,GACD,IAAI,oBAAmC,SAAU,MAAM;IACnD,UAAU,mBAAmB;IAC7B,SAAS,kBAAkB,MAAM,EAAE,YAAY;QAC3C,IAAI,QAAQ,OAAO,IAAI,CAAC,IAAI,EAAE,WAAW,IAAI;QAC7C,MAAM,MAAM,GAAG;QACf,MAAM,YAAY,GAAG;QACrB,OAAO;IACX;IACA;;;;;;;KAOC,GACD,kBAAkB,SAAS,CAAC,sBAAsB,GAAG,SAAU,gBAAgB;QAC3E,OAAO,UAAU,IAAI,EAAE,WAAW,KAAK,GAAG,SAAU,cAAc,EAAE,OAAO;YACvE,IAAI,eAAe,IAAI,IAAI,SAAS;YACpC,IAAI,IAAI,IAAI;YACZ,IAAI,YAAY,KAAK,GAAG;gBAAE,UAAU,CAAC;YAAG;YACxC,OAAO,YAAY,IAAI,EAAE,SAAU,EAAE;gBACjC,OAAQ,GAAG,KAAK;oBACZ,KAAK;wBACD,gBAAgB,CAAC,KAAK,QAAQ,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,CAAC,KAAK,QAAQ,aAAa,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,KAAK;wBAChJ,KAAK,IAAI;wBACT,IAAI,CAAC,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,CAAC,GAAG,OAAO;4BAAC,EAAE,OAAO;4BAAI;yBAAE;wBAClF,KAAK;wBACL,OAAO;4BAAC,EAAE,OAAO;4BAAI;yBAAE;oBAC3B,KAAK;wBAAG,OAAO;4BAAC,EAAE,OAAO;4BAAI,eAAe,cAAc,CAAC,kBAAkB,SAAS;yBAAE;oBACxF,KAAK;wBACD,KAAM,GAAG,IAAI;wBACb,GAAG,KAAK,GAAG;oBACf,KAAK;wBACD,GAAG,KAAK,GACJ,CAAC,KAAK,EAAE,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,sOAA8B;wBAC7E,OAAO;4BAAC,EAAE,OAAO;4BAAI,eAAe,cAAc,CAAC,kBAAkB,SAAS,EAAE,IAAI,CAAC,KAAK;yBAAE;oBAChG,KAAK;wBACD,GAAG,IAAI;wBACP,UAAU,IAAI,IAAI,IAAI,CAAC,qBAAqB;wBAC5C,aAAa,IAAI,CAAC,qBAAqB,CAAC;wBACxC,QAAQ,MAAM,GAAG,WAAW,QAAQ;wBACpC,OAAO;4BAAC,EAAE,QAAQ;4BAAI;yBAAQ;gBACtC;YACJ;QACJ;IACJ;IACA;;;;;;;KAOC,GACD,kBAAkB,SAAS,CAAC,eAAe,GAAG,SAAU,cAAc,EAAE,OAAO;QAC3E,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,OAAO,YAAY,IAAI,EAAE,SAAU,EAAE;gBACjC,OAAQ,GAAG,KAAK;oBACZ,KAAK;wBAAG,OAAO;4BAAC,EAAE,OAAO;4BAAI,sOAAgB,gBAAgB,SAAS;gCAAE,QAAQ,IAAI,CAAC,MAAM,CAAC,UAAU;4BAAC,GAAG;yBAAU;oBACpH,KAAK;wBAAG,OAAO;4BAAC,EAAE,QAAQ;4BAAI,GAAG,IAAI;yBAAG;gBAC5C;YACJ;QACJ;IACJ;IACA;;;;;;;KAOC,GACD,kBAAkB,SAAS,CAAC,aAAa,GAAG,SAAU,gBAAgB;QAClE,OAAO,UAAU,IAAI,EAAE,WAAW,KAAK,GAAG,SAAU,cAAc,EAAE,eAAe;YAC/E,IAAI,cAAc,MAAM;YACxB,IAAI,oBAAoB,KAAK,GAAG;gBAAE,kBAAkB;YAAM;YAC1D,OAAO,YAAY,IAAI,EAAE,SAAU,EAAE;gBACjC,OAAQ,GAAG,KAAK;oBACZ,KAAK;wBAAG,OAAO;4BAAC,EAAE,OAAO;4BAAI,+NAAyB,CAAC;yBAAgB;oBACvE,KAAK;wBACD,eAAe,GAAG,IAAI;wBACtB,IAAI,CAAC,kPAA8B,CAAC,IAAI,CAAC,YAAY,GAAG;4BACpD,MAAM,IAAI,MAAM,yBAAyB,MAAM,CAAC,IAAI,CAAC,YAAY;wBACrE;wBACA,OAAO,IAAI,gBAAgB;4BACvB,YAAY;4BACZ,WAAW,IAAI,CAAC,MAAM,CAAC,QAAQ;4BAC/B,eAAe,IAAI,CAAC,YAAY;4BAChC,eAAe;wBACnB;wBACA,OAAO;4BAAC,EAAE,OAAO;4BAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB;yBAAM;oBACnE,KAAK;wBACD,SAAS,GAAG,IAAI;wBAChB,IAAI,CAAC,iBAAiB,OAAO;4BAAC,EAAE,OAAO;4BAAI;yBAAE;wBAC7C,OAAO;4BAAC,EAAE,OAAO;4BAAI,qOAA+B,CAAC,gBAAgB,QAAQ,IAAI,CAAC,sBAAsB;yBAAE;oBAC9G,KAAK;wBACD,GAAG,IAAI;wBACP,GAAG,KAAK,GAAG;oBACf,KAAK;wBAAG,OAAO;4BAAC,EAAE,QAAQ;4BAAI;yBAAO;gBACzC;YACJ;QACJ;IACJ;IACA;;;;;;;KAOC,GACD,kBAAkB,SAAS,CAAC,yBAAyB,GAAG,SAAU,cAAc,EAAE,WAAW;QACzF,OAAO,UAAU,IAAI,EAAE,KAAK,GAAG,KAAK,GAAG;YACnC,IAAI,IAAI,MAAM,OAAO,UAAU,aAAa;YAC5C,OAAO,YAAY,IAAI,EAAE,SAAU,EAAE;gBACjC,OAAQ,GAAG,KAAK;oBACZ,KAAK;wBACD,KAAK,OAAO,IAAI,CAAC,oBAAoB,CAAC,cAAc,IAAI,OAAO,EAAE,CAAC,EAAE,EAAE,QAAQ,EAAE,CAAC,EAAE;wBACnF,WAAW,kBAAkB,SAAS;wBACtC,OAAO;4BAAC,EAAE,OAAO;4BAAI,eAAe,cAAc,CAAC;yBAAU;oBACjE,KAAK;wBACD,cAAe,GAAG,IAAI;wBACtB,IAAI,CAAC,aAAa;4BACd,MAAM,IAAI,MAAM,kCAAkC,MAAM,CAAC,OAAO;wBACpE;wBACA,IAAI,gBAAgB,OAAO;4BACvB,MAAM,IAAI,MAAM,kDAAkD,MAAM,CAAC,OAAO,iBAAiB,MAAM,CAAC;wBAC5G;wBACA,IAAI,CAAC,kPAA8B,CAAC,IAAI,CAAC,YAAY,GAAG;4BACpD,MAAM,IAAI,MAAM,yBAAyB,MAAM,CAAC,IAAI,CAAC,YAAY;wBACrE;wBACA,OAAO,IAAI,gBAAgB;4BACvB,YAAY;4BACZ,WAAW,IAAI,CAAC,MAAM,CAAC,QAAQ;4BAC/B,eAAe,IAAI,CAAC,YAAY;4BAChC,cAAc,IAAI,CAAC,MAAM,CAAC,WAAW;4BACrC,MAAM;wBACV;wBACA,GAAG,KAAK,GAAG;oBACf,KAAK;wBACD,GAAG,IAAI,CAAC,IAAI,CAAC;4BAAC;;4BAAK;4BAAG;yBAAE;wBACxB,OAAO;4BAAC,EAAE,OAAO;4BAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB;yBAAM;oBACnE,KAAK;wBAAG,OAAO;4BAAC,EAAE,QAAQ;4BAAI,GAAG,IAAI;yBAAG;oBACxC,KAAK;wBAAG,OAAO;4BAAC,EAAE,OAAO;4BAAI,eAAe,iBAAiB,CAAC;yBAAU;oBACxE,KAAK;wBACD,GAAG,IAAI;wBACP,OAAO;4BAAC,EAAE,YAAY;yBAAG;oBAC7B,KAAK;wBAAG,OAAO;4BAAC,EAAE,QAAQ;yBAAG;gBACjC;YACJ;QACJ;IACJ;IACA;;;;;KAKC,GACD,kBAAkB,SAAS,CAAC,oBAAoB,GAAG;QAC/C,OAAO,IAAI,gBAAgB;YACvB,OAAO,IAAI,CAAC,KAAK;YACjB,WAAW,IAAI,CAAC,MAAM,CAAC,QAAQ;YAC/B,cAAc,IAAI,CAAC,MAAM,CAAC,WAAW;YACrC,eAAe;QACnB;IACJ;IACA,kBAAkB,SAAS,GAAG;IAC9B,OAAO;AACX,EAAE,wOAAgB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/AuthCodeWithPKCE.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { isBrowserEnvironment } from '../environment.js';\nimport { AuthCodeAbstract } from './AuthCodeAbstract.js';\nimport * as utilities from '../utilities/index.js';\nimport { createPortalUrl } from '../utilities/createPortalUrl.js';\n/**\n * Class provides implementation for the authorization code with PKCE extension\n * OAuth2.0 flow, please note the use of the `isBrowserEnvironment()` method\n * in certain methods of this class, this is because this class is intended to\n * be used on both the browser and server.\n * @class AuthCodeWithPKCE\n * @param {AuthorizationCodeOptions} config\n */\nvar AuthCodeWithPKCE = /** @class */ (function (_super) {\n    __extends(AuthCodeWithPKCE, _super);\n    function AuthCodeWithPKCE(config) {\n        var _this = _super.call(this, config) || this;\n        _this.config = config;\n        return _this;\n    }\n    /**\n     * Method provides implementation for `createAuthorizationURL` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {AuthURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    AuthCodeWithPKCE.prototype.createAuthorizationURL = function (sessionManager_1) {\n        return __awaiter(this, arguments, void 0, function (sessionManager, options) {\n            var challengeSetup, challenge, verifier, providedState, setItem, authURL, authParams;\n            var _a, _b;\n            if (options === void 0) { options = {}; }\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, utilities.setupCodeChallenge()];\n                    case 1:\n                        challengeSetup = _c.sent();\n                        challenge = challengeSetup.challenge, verifier = challengeSetup.verifier;\n                        this.codeChallenge = challenge;\n                        this.codeVerifier = verifier;\n                        providedState = (_a = options.state) !== null && _a !== void 0 ? _a : (_b = options.authUrlParams) === null || _b === void 0 ? void 0 : _b.state;\n                        this.state = providedState !== null && providedState !== void 0 ? providedState : utilities.generateRandomString();\n                        setItem = isBrowserEnvironment()\n                            ? sessionManager.setSessionItemBrowser\n                            : sessionManager.setSessionItem;\n                        return [4 /*yield*/, setItem.call(sessionManager, this.getCodeVerifierKey(this.state), JSON.stringify({ codeVerifier: this.codeVerifier }))];\n                    case 2:\n                        _c.sent();\n                        authURL = new URL(this.authorizationEndpoint);\n                        authParams = this.generateAuthURLParams(options);\n                        authURL.search = authParams.toString();\n                        return [2 /*return*/, authURL];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `createPortalUrl` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {Omit<GeneratePortalUrlParams, 'domain'>} options\n     * @returns {Promise<{url: URL}>} required authorization URL\n     */\n    AuthCodeWithPKCE.prototype.createPortalUrl = function (sessionManager, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, createPortalUrl(sessionManager, __assign({ domain: this.config.authDomain }, options))];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `refreshTokens` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class for\n     * further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {boolean} [commitToSession=true] - Optional parameter, determines whether to commit the refreshed tokens to the session. Defaults to true.\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    AuthCodeWithPKCE.prototype.refreshTokens = function (sessionManager_1) {\n        return __awaiter(this, arguments, void 0, function (sessionManager, commitToSession) {\n            var refreshToken, body, tokens;\n            if (commitToSession === void 0) { commitToSession = true; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, utilities.getRefreshToken(sessionManager)];\n                    case 1:\n                        refreshToken = _a.sent();\n                        body = new URLSearchParams({\n                            grant_type: 'refresh_token',\n                            refresh_token: refreshToken,\n                            client_id: this.config.clientId,\n                        });\n                        return [4 /*yield*/, this.fetchTokensFor(sessionManager, body, true)];\n                    case 2:\n                        tokens = _a.sent();\n                        if (!commitToSession) return [3 /*break*/, 4];\n                        return [4 /*yield*/, utilities.commitTokensToSession(sessionManager, tokens, this.tokenValidationDetails)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4: return [2 /*return*/, tokens];\n                }\n            });\n        });\n    };\n    /**\n     * Method provides implementation for `exchangeAuthCodeForTokens` method mandated\n     * by `AuthCodeAbstract` parent class, see corresponding comment in parent class\n     * for further explanation.\n     * @param {SessionManager} sessionManager\n     * @param {URL} callbackURL\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    AuthCodeWithPKCE.prototype.exchangeAuthCodeForTokens = function (sessionManager, callbackURL) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, code, state, storedStateKey, getItem, storedState, authFlowState, body, removeItem;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = __read(_super.prototype.getCallbackURLParams.call(this, callbackURL), 2), code = _a[0], state = _a[1];\n                        storedStateKey = this.getCodeVerifierKey(state);\n                        if (!(storedStateKey === null || storedStateKey === void 0 ? void 0 : storedStateKey.endsWith(state))) {\n                            throw new Error('Received state does not match stored state');\n                        }\n                        getItem = isBrowserEnvironment()\n                            ? sessionManager.getSessionItemBrowser\n                            : sessionManager.getSessionItem;\n                        return [4 /*yield*/, getItem.call(sessionManager, storedStateKey)];\n                    case 1:\n                        storedState = (_b.sent());\n                        if (!storedState) {\n                            throw new Error('Stored state not found');\n                        }\n                        authFlowState = JSON.parse(storedState);\n                        this.codeVerifier = authFlowState.codeVerifier;\n                        body = new URLSearchParams({\n                            redirect_uri: this.config.redirectURL,\n                            client_id: this.config.clientId,\n                            code_verifier: this.codeVerifier,\n                            grant_type: 'authorization_code',\n                            code: code,\n                        });\n                        removeItem = isBrowserEnvironment()\n                            ? sessionManager.removeSessionItemBrowser\n                            : sessionManager.removeSessionItem;\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 6]);\n                        return [4 /*yield*/, this.fetchTokensFor(sessionManager, body)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4: return [4 /*yield*/, removeItem.call(sessionManager, this.getCodeVerifierKey(state))];\n                    case 5:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Method generates the key against which the code verifier is stored in session\n     * storage.\n     * @param {string} state\n     * @returns {string} - required code verifer key\n     */\n    AuthCodeWithPKCE.prototype.getCodeVerifierKey = function (state) {\n        return \"\".concat(AuthCodeWithPKCE.STATE_KEY, \"-\").concat(state);\n    };\n    /**\n     * Method provides implementation for `getBaseAuthURLParams` method mandated by\n     * `AuthCodeAbstract` parent class, see corresponding comment in parent class\n     * for further explanation.\n     * @returns {URLSearchParams} Required query parameters\n     */\n    AuthCodeWithPKCE.prototype.getBaseAuthURLParams = function () {\n        return new URLSearchParams({\n            state: this.state,\n            client_id: this.config.clientId,\n            redirect_uri: this.config.redirectURL,\n            response_type: 'code',\n            code_challenge: this.codeChallenge,\n            code_challenge_method: 'S256',\n        });\n    };\n    AuthCodeWithPKCE.STATE_KEY = 'acwpf-state-key';\n    return AuthCodeWithPKCE;\n}(AuthCodeAbstract));\nexport { AuthCodeWithPKCE };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3603, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/oauth2-flows/index.js"],"sourcesContent":["export { ClientCredentials } from './ClientCredentials.js';\nexport { AuthorizationCode } from './AuthorizationCode.js';\nexport { AuthCodeWithPKCE } from './AuthCodeWithPKCE.js';\nexport * from './types.js';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3634, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/browser/authcode-with-pkce.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { BrowserSessionManager } from '../../session-managers/index.js';\nimport { AuthCodeWithPKCE } from '../../oauth2-flows/index.js';\nimport * as utilities from '../../utilities/index.js';\nvar createAuthCodeWithPKCEClient = function (options) {\n    var _a;\n    var featureFlags = utilities.featureFlags, tokenClaims = utilities.tokenClaims;\n    var sessionManager = (_a = options.sessionManager) !== null && _a !== void 0 ? _a : new BrowserSessionManager();\n    var client = new AuthCodeWithPKCE(options);\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeWithPKCE\n     * client above to return login url.\n     * @param {LoginURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var login = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign({}, options))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeWithPKCE\n     * client above to return registration url.\n     * @param {RegisterURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var register = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign(__assign({}, options), { start_page: 'registration' }))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeWithPKCE\n     * client above to return registration url with the `is_create_org` query param\n     * set to true.\n     * @param {CreateOrgURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var createOrg = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign(__assign({}, options), { start_page: 'registration', is_create_org: true }))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createPortalUrl` method of the AuthCodeWithPKCE\n     * client above to return portal url.\n     * @param {GeneratePortalUrlParams} options\n     * @returns {Promise<{url: URL}>} portal URL\n     */\n    var portal = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createPortalUrl(sessionManager, __assign({}, options))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `handleRedirectFromAuthDomain` method of the\n     * `AuthCodeWithPKCE` client above to handle the redirection back to the app.\n     * @param {URL} callbackURL\n     * @returns {Promise<void>}\n     */\n    var handleRedirectToApp = function (callbackURL) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.handleRedirectFromAuthDomain(sessionManager, callbackURL)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    /**\n     * Method acts as a wrapper around the `isAuthenticated` method provided by the\n     * `AuthCodeWithPKCE` client created above.\n     * @returns {Promise<boolean>}\n     */\n    var isAuthenticated = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.isAuthenticated(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `getUserProfile` method of the `AuthCodeWithPKCE` client\n     * above to fetch the current user's information, raises exception if current user\n     * is not authenticated.\n     * @returns {Promise<UserType>}\n     */\n    var getUserProfile = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.getUserProfile(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the current user's details from the current session, raises\n     * exception if current user is not authenticated.\n     * @returns {Promise<UserType>}\n     */\n    var getUser = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot get user details, no authentication credential found');\n                    }\n                    return [4 /*yield*/, utilities.getUserFromSession(sessionManager, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, (_a.sent())];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided number feature flag from the access token in\n     * the current session.\n     * @param {string} code\n     * @param {number} defaultValue\n     * @returns {number} integer flag value\n     */\n    var getIntegerFlag = function (code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return integer flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getIntegerFlag(sessionManager, code, client.tokenValidationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided string feature flag from the access token in\n     * the current session.\n     * @param {string} code\n     * @param {string} defaultValue\n     * @returns {string} string flag value\n     */\n    var getStringFlag = function (code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return string flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getStringFlag(sessionManager, code, client.tokenValidationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided boolean feature flag from the access token in\n     * the current session.\n     * @param {string} code\n     * @param {boolean} defaultValue\n     * @returns {boolean} boolean flag value\n     */\n    var getBooleanFlag = function (code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return boolean flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getBooleanFlag(sessionManager, code, client.tokenValidationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided claim from the provided token type in the\n     * current session.\n     * @param {string} claim\n     * @param {ClaimTokenType} type\n     * @returns {unknown | null}\n     */\n    var getClaimValue = function (claim_1) {\n        var args_1 = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args_1[_i - 1] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([claim_1], __read(args_1), false), void 0, function (claim, type) {\n            if (type === void 0) { type = 'access_token'; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, isAuthenticated()];\n                    case 1:\n                        if (!(_a.sent())) {\n                            throw new Error(\"Cannot return claim \\\"\".concat(claim, \"\\\", no authentication credential found\"));\n                        }\n                        return [4 /*yield*/, tokenClaims.getClaimValue(sessionManager, claim, type, client.tokenValidationDetails)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method extracts the provided claim from the provided token type in the\n     * current session, the returned object includes the provided claim.\n     * @param {string} claim\n     * @param {ClaimTokenType} type\n     * @returns {{ name: string, value: unknown | null }}\n     */\n    var getClaim = function (claim_1) {\n        var args_1 = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args_1[_i - 1] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([claim_1], __read(args_1), false), void 0, function (claim, type) {\n            if (type === void 0) { type = 'access_token'; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, isAuthenticated()];\n                    case 1:\n                        if (!(_a.sent())) {\n                            throw new Error(\"Cannot return claim \\\"\".concat(claim, \"\\\", no authentication credential found\"));\n                        }\n                        return [4 /*yield*/, tokenClaims.getClaim(sessionManager, claim, type, client.tokenValidationDetails)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method returns the organization code from the current session and returns\n     * a boolean in the returned object indicating if the provided permission is\n     * present in the session.\n     * @param {string} name\n     * @returns {{ orgCode: string | null, isGranted: boolean }}\n     */\n    var getPermission = function (name) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return permission \\\"\".concat(name, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, tokenClaims.getPermission(sessionManager, name, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the organization code from the current session.\n     * @returns {{ orgCode: string | null }}\n     */\n    var getOrganization = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user organization, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getOrganization(sessionManager, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts all organization codes from the id token in the current\n     * session.\n     * @returns {{ orgCodes: string[] }}\n     */\n    var getUserOrganizations = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user organizations, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getUserOrganizations(sessionManager, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts all the permission and the organization code in the access\n     * token in the current session.\n     * @returns {{ permissions: string[], orgCode: string | null }}\n     */\n    var getPermissions = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user permissions, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getPermissions(sessionManager, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `getToken` of the `AuthCodeWithPKCE` client above\n     * to return the access token from the current session.\n     * @returns {Promise<string>}\n     */\n    var getToken = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.getToken(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes user of the `refreshTokens` method of the `AuthCodeWithPKCE` client\n     * to use the refresh token to get new tokens\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    var refreshTokens = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.refreshTokens(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided feature flag from the access token in the\n     * current session.\n     * @param {string} code\n     * @param {FlagType[keyof FlagType]} defaultValue\n     * @param {keyof FlagType} type\n     * @returns {GetFlagType}\n     */\n    var getFlag = function (code, defaultValue, type) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated()];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getFlag(sessionManager, code, client.tokenValidationDetails, defaultValue, type)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method clears the current session and returns the logout URL, redirecting\n     * to which will clear the user's session on the authorization server.\n     * @returns {URL}\n     */\n    var logout = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, sessionManager.destroySession()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, new URL(client.logoutEndpoint)];\n            }\n        });\n    }); };\n    return {\n        getUserOrganizations: getUserOrganizations,\n        handleRedirectToApp: handleRedirectToApp,\n        isAuthenticated: isAuthenticated,\n        getOrganization: getOrganization,\n        getBooleanFlag: getBooleanFlag,\n        getIntegerFlag: getIntegerFlag,\n        getUserProfile: getUserProfile,\n        getPermissions: getPermissions,\n        getPermission: getPermission,\n        getClaimValue: getClaimValue,\n        getStringFlag: getStringFlag,\n        createOrg: createOrg,\n        getClaim: getClaim,\n        getToken: getToken,\n        refreshTokens: refreshTokens,\n        register: register,\n        getUser: getUser,\n        getFlag: getFlag,\n        logout: logout,\n        login: login,\n        portal: portal,\n    };\n};\nexport default createAuthCodeWithPKCEClient;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4436, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/browser/index.js"],"sourcesContent":["import createAuthCodeWithPKCEClient from './authcode-with-pkce.js';\nimport { isBrowserEnvironment } from '../../environment.js';\nexport var createKindeBrowserClient = function (options) {\n    if (!isBrowserEnvironment()) {\n        throw new Error('this method must be invoked in a browser environment');\n    }\n    return createAuthCodeWithPKCEClient(options);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACO,IAAI,2BAA2B,SAAU,OAAO;IACnD,IAAI,CAAC,IAAA,oNAAoB,KAAI;QACzB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO,IAAA,0OAA4B,EAAC;AACxC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4454, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/server/with-auth-utilities.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as utilities from '../../utilities/index.js';\nvar withAuthUtilities = function (isAuthenticated, validationDetails) {\n    var featureFlags = utilities.featureFlags, tokenClaims = utilities.tokenClaims;\n    /**\n     * Method extracts the provided number feature flag from the access token in\n     * the current session.\n     * @param {SessionManager} sessionManager\n     * @param {string} code\n     * @param {number} defaultValue\n     * @returns {number} integer flag value\n     */\n    var getIntegerFlag = function (sessionManager, code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return integer flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getIntegerFlag(sessionManager, code, validationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided string feature flag from the access token in\n     * the current session.\n     * @param {SessionManager} sessionManager\n     * @param {string} code\n     * @param {string} defaultValue\n     * @returns {string} string flag value\n     */\n    var getStringFlag = function (sessionManager, code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return string flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getStringFlag(sessionManager, code, validationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided boolean feature flag from the access token in\n     * the current session.\n     * @param {SessionManager} sessionManager\n     * @param {string} code\n     * @param {boolean} defaultValue\n     * @returns {boolean} boolean flag value\n     */\n    var getBooleanFlag = function (sessionManager, code, defaultValue) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return boolean flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getBooleanFlag(sessionManager, code, validationDetails, defaultValue)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided claim from the provided token type in the\n     * current session.\n     * @param {SessionManager} sessionManager\n     * @param {string} claim\n     * @param {ClaimTokenType} type\n     * @returns {unknown | null}\n     */\n    var getClaimValue = function (sessionManager_1, claim_1) {\n        var args_1 = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args_1[_i - 2] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([sessionManager_1, claim_1], __read(args_1), false), void 0, function (sessionManager, claim, type) {\n            if (type === void 0) { type = 'access_token'; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                    case 1:\n                        if (!(_a.sent())) {\n                            throw new Error(\"Cannot return claim \\\"\".concat(claim, \"\\\", no authentication credential found\"));\n                        }\n                        return [4 /*yield*/, tokenClaims.getClaimValue(sessionManager, claim, type, validationDetails)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method extracts the provided claim from the provided token type in the\n     * current session, the returned object includes the provided claim.\n     * @param {SessionManager} sessionManager\n     * @param {string} claim\n     * @param {ClaimTokenType} type\n     * @returns {{ name: string, value: unknown | null }}\n     */\n    var getClaim = function (sessionManager_1, claim_1) {\n        var args_1 = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args_1[_i - 2] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([sessionManager_1, claim_1], __read(args_1), false), void 0, function (sessionManager, claim, type) {\n            if (type === void 0) { type = 'access_token'; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                    case 1:\n                        if (!(_a.sent())) {\n                            throw new Error(\"Cannot return claim \\\"\".concat(claim, \"\\\", no authentication credential found\"));\n                        }\n                        return [4 /*yield*/, tokenClaims.getClaim(sessionManager, claim, type, validationDetails)];\n                    case 2: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method returns the organization code from the current session and returns\n     * a boolean in the returned object indicating if the provided permission is\n     * present in the session.\n     * @param {SessionManager} sessionManager\n     * @param {string} name\n     * @returns {{ orgCode: string | null, isGranted: boolean }}\n     */\n    var getPermission = function (sessionManager, name) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return permission \\\"\".concat(name, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, tokenClaims.getPermission(sessionManager, name, validationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the organization code from the current session.\n     * @param {SessionManager} sessionManager\n     * @returns {{ orgCode: string | null }}\n     */\n    var getOrganization = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user organization, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getOrganization(sessionManager, validationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts all organization codes from the id token in the current\n     * session.\n     * @param {SessionManager} sessionManager\n     * @returns {{ orgCodes: string[] }}\n     */\n    var getUserOrganizations = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user organizations, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getUserOrganizations(sessionManager, validationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts all the permission and the organization code in the access\n     * token in the current session.\n     * @param {SessionManager} sessionManager\n     * @returns {{ permissions: string[], orgCode: string | null }}\n     */\n    var getPermissions = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot return user permissions, no authentication credential found');\n                    }\n                    return [4 /*yield*/, tokenClaims.getPermissions(sessionManager, validationDetails)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the provided feature flag from the access token in the\n     * current session.\n     * @param {SessionManager} sessionManager\n     * @param {string} code\n     * @param {FlagType[keyof FlagType]} defaultValue\n     * @param {keyof FlagType} type\n     * @returns {GetFlagType}\n     */\n    var getFlag = function (sessionManager, code, defaultValue, type) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error(\"Cannot return flag \\\"\".concat(code, \"\\\", no authentication credential found\"));\n                    }\n                    return [4 /*yield*/, featureFlags.getFlag(sessionManager, code, validationDetails, defaultValue, type)];\n                case 2: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    return {\n        getUserOrganizations: getUserOrganizations,\n        getOrganization: getOrganization,\n        getBooleanFlag: getBooleanFlag,\n        getIntegerFlag: getIntegerFlag,\n        getPermissions: getPermissions,\n        getPermission: getPermission,\n        getClaimValue: getClaimValue,\n        getStringFlag: getStringFlag,\n        getClaim: getClaim,\n        getFlag: getFlag,\n    };\n};\nexport default withAuthUtilities;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4974, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/server/authorization-code.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { AuthorizationCode, AuthCodeWithPKCE } from '../../oauth2-flows/index.js';\nimport withAuthUtilities from './with-auth-utilities.js';\nimport * as utilities from '../../utilities/index.js';\nvar createAuthorizationCodeClient = function (options, isPKCE) {\n    var client = !isPKCE\n        ? new AuthorizationCode(options, options.clientSecret)\n        : new AuthCodeWithPKCE(options);\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeAbstract\n     * client above to return login url.\n     * @param {SessionManager} sessionManager\n     * @param {LoginURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var login = function (sessionManager, options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign({}, options))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeAbstract\n     * client above to return registration url.\n     * @param {SessionManager} sessionManager\n     * @param {RegisterURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var register = function (sessionManager, options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign(__assign({}, options), { start_page: 'registration' }))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createAuthorizationURL` method of the AuthCodeAbstract\n     * client above to return registration url with the `is_create_org` query param\n     * set to true.\n     * @param {SessionManager} sessionManager\n     * @param {CreateOrgURLOptions} options\n     * @returns {Promise<URL>} required authorization URL\n     */\n    var createOrg = function (sessionManager, options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createAuthorizationURL(sessionManager, __assign(__assign({}, options), { start_page: 'registration', is_create_org: true }))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `createPortalUrl` method of the AuthCodeAbstract\n     * client above to return login url.\n     * @param {SessionManager} sessionManager\n     * @param {GeneratePortalUrlParams} options\n     * @returns {Promise<{ url: URL }>} required authorization URL\n     */\n    var portal = function (sessionManager, options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.createPortalUrl(sessionManager, __assign({}, options))];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `handleRedirectFromAuthDomain` method of the\n     * `AuthCodeAbstract` client above to handle the redirection back to the app.\n     * @param {SessionManager} sessionManager\n     * @param {URL} callbackURL\n     * @returns {Promise<void>}\n     */\n    var handleRedirectToApp = function (sessionManager, callbackURL) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.handleRedirectFromAuthDomain(sessionManager, callbackURL)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    /**\n     * Method acts as a wrapper around the `isAuthenticated` method provided by the\n     * `AuthCodeAbstract` client created above.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<Boolean>}\n     */\n    var isAuthenticated = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.isAuthenticated(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `getUserProfile` method of the `AuthCodeAbstract` client\n     * above to fetch the current user's information, raises exception if current user\n     * is not authenticated.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<UserType>}\n     */\n    var getUserProfile = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.getUserProfile(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method extracts the current user's details from the current session, raises\n     * exception if current user is not authenticated.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<UserType>}\n     */\n    var getUser = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, isAuthenticated(sessionManager)];\n                case 1:\n                    if (!(_a.sent())) {\n                        throw new Error('Cannot get user details, no authentication credential found');\n                    }\n                    return [4 /*yield*/, utilities.getUserFromSession(sessionManager, client.tokenValidationDetails)];\n                case 2: return [2 /*return*/, (_a.sent())];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `getToken` method of the `AuthCodeAbstract` client\n     * to retrieve an access token.\n     * @param sessionManager\n     * @returns {Promise<string>}\n     */\n    var getToken = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.getToken(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method makes user of the `refreshTokens` method of the `AuthCodeAbstract` client\n     * to use the refresh token to get new tokens\n     * @param {SessionManager} sessionManager\n     * @param {boolean} [commitToSession=true] - Optional parameter, determines whether to commit the refreshed tokens to the session. Defaults to true.\n     * @returns {Promise<OAuth2CodeExchangeResponse>}\n     */\n    var refreshTokens = function (sessionManager_1) {\n        var args_1 = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args_1[_i - 1] = arguments[_i];\n        }\n        return __awaiter(void 0, __spreadArray([sessionManager_1], __read(args_1), false), void 0, function (sessionManager, commitToSession) {\n            if (commitToSession === void 0) { commitToSession = true; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, client.refreshTokens(sessionManager, commitToSession)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Method clears the current session and returns the logout URL, redirecting\n     * to which will clear the user's session on the authorization server.\n     * @param {SessionManager} sessionManager\n     * @returns {URL}\n     */\n    var logout = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, sessionManager.destroySession()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, new URL(client.logoutEndpoint)];\n            }\n        });\n    }); };\n    return __assign(__assign({}, withAuthUtilities(isAuthenticated, client.tokenValidationDetails)), { handleRedirectToApp: handleRedirectToApp, isAuthenticated: isAuthenticated, getUserProfile: getUserProfile, createOrg: createOrg, getToken: getToken, refreshTokens: refreshTokens, register: register, getUser: getUser, logout: logout, login: login, portal: portal });\n};\nexport default createAuthorizationCodeClient;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5450, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/server/client-credentials.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport withAuthUtilities from './with-auth-utilities.js';\nimport { ClientCredentials } from '../../oauth2-flows/index.js';\nvar createCCClient = function (options) {\n    var client = new ClientCredentials(options);\n    /**\n     * Method clears the current session and returns the logout URL, redirecting\n     * to which will clear the user's session on the authorization server.\n     * @param {SessionManager} sessionManager\n     * @returns {URL}\n     */\n    var logout = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, sessionManager.destroySession()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/, new URL(client.logoutEndpoint)];\n            }\n        });\n    }); };\n    /**\n     * Method makes use of the `getToken` method of the `ClientCredentials` client\n     * to retrieve an access token.\n     * @param sessionManager\n     * @returns {Promise<string>}\n     */\n    var getToken = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.getToken(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    /**\n     * Method acts as a wrapper around the `isAuthenticated` method provided by the\n     * `ClientCredentials` client created above.\n     * @param {SessionManager} sessionManager\n     * @returns {Promise<Boolean>}\n     */\n    var isAuthenticated = function (sessionManager) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, client.isAuthenticated(sessionManager)];\n                case 1: return [2 /*return*/, _a.sent()];\n            }\n        });\n    }); };\n    return __assign(__assign({}, withAuthUtilities(isAuthenticated, client.tokenValidationDetails)), { isAuthenticated: isAuthenticated, getToken: getToken, logout: logout });\n};\nexport default createCCClient;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5672, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/server/index.js"],"sourcesContent":["import createAuthCodeClient from './authorization-code.js';\nimport createCCClient from './client-credentials.js';\nimport { GrantType } from '../../oauth2-flows/index.js';\nexport var createKindeServerClient = function (grantType, options) {\n    switch (grantType) {\n        case GrantType.AUTHORIZATION_CODE: {\n            var clientOptions = options;\n            return createAuthCodeClient(clientOptions, false);\n        }\n        case GrantType.PKCE: {\n            var clientOptions = options;\n            return createAuthCodeClient(clientOptions, true);\n        }\n        case GrantType.CLIENT_CREDENTIALS: {\n            var clientOptions = options;\n            return createCCClient(clientOptions);\n        }\n        default: {\n            throw new Error('Unrecognized grant type provided');\n        }\n    }\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AACO,IAAI,0BAA0B,SAAU,SAAS,EAAE,OAAO;IAC7D,OAAQ;QACJ,KAAK,sNAAS,CAAC,kBAAkB;YAAE;gBAC/B,IAAI,gBAAgB;gBACpB,OAAO,IAAA,sOAAoB,EAAC,eAAe;YAC/C;QACA,KAAK,sNAAS,CAAC,IAAI;YAAE;gBACjB,IAAI,gBAAgB;gBACpB,OAAO,IAAA,sOAAoB,EAAC,eAAe;YAC/C;QACA,KAAK,sNAAS,CAAC,kBAAkB;YAAE;gBAC/B,IAAI,gBAAgB;gBACpB,OAAO,IAAA,sOAAc,EAAC;YAC1B;QACA;YAAS;gBACL,MAAM,IAAI,MAAM;YACpB;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5710, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 5716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/clients/index.js"],"sourcesContent":["export * from './browser/index.js';\nexport * from './server/index.js';\nexport * from './types.js';\n"],"names":[],"mappings":";AAAA;AACA;AACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5727, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/IdeaProjects/niwasa/node_modules/%40kinde-oss/kinde-typescript-sdk/dist/sdk/index.js"],"sourcesContent":["export * from './session-managers/types.js';\nexport * from './oauth2-flows/types.js';\nexport * from './utilities/types.js';\nexport * from './clients/index.js';\nexport * from './exceptions.js';\nexport * from './utilities/validate-client-secret.js';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA","ignoreList":[0],"debugId":null}}]
}